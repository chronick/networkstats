---
globs: **/*.py
alwaysApply: false
---
# Python App Cursor Rules

1. 🗂️ **Directory hygiene**  
   * Keep each module < 400 LOC.  
   * Tests mirror package structure under `/tests`.

2. 🚀 **Entry points**  
   * Provide a `cli.py` using Typer.  
   * Export GUI entry with `menubar.py`.

3. 🧪 **Testing**  
   * Use `pytest` + `pytest-asyncio`.  
   * Fast unit tests only; integration tests behind `-m integ`.

4. 💾 **Data access**  
   * All DB I/O via `storage.py`; forbid raw SQL elsewhere.

5. 🔄 **Async**  
   * Prefer `asyncio` for I/O loops; never block the event loop.

6. 📈 **Perf**  
   * Use Polars for analytic queries; avoid pandas.

7. ✨ **Style**  
   * black, ruff, mypy strict.  
   * Docstrings in Google style.

8. 🚧 **TODOs**  
   * Prefix with `# TODO(username):` to ease search.# Python App Cursor Rules
